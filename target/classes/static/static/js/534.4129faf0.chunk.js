"use strict";(self.webpackChunkchat_app_front=self.webpackChunkchat_app_front||[]).push([[534],{3849:function(e,s,t){t.d(s,{A:function(){return r}});var r=function(e,s){var t=new Map;return e.forEach((function(e){t.set(e,[]),s.forEach((function(s){e.username!==s.fromUser&&e.username!==s.toUser||t.get(e).push(s)}))})),t}},534:function(e,s,t){t.r(s);var r=t(2398),n=t(2310),a=t(2870),i=t(4336),l=t(3849),c=t(591),o=t(6177),m=t.n(o),u=t(3047),f=t(3949),d=t(6961),x=t(3883),h=t(8692),g=t(3433),p=t(2388),v=function(e){var s=(0,i.TL)(),t=(0,a.UO)().chatId,o=(0,n.useState)(""),v=(0,r.Z)(o,2),j=v[0],w=v[1],N=(0,n.useState)([]),b=(0,r.Z)(N,2),y=b[0],U=b[1],E=(0,n.useState)({}),L=(0,r.Z)(E,2),S=L[0],Z=L[1],k=((0,i.TL)(),(0,i.CG)((function(e){return{friendsList:e.message.friendsList,messagesList:e.message.messagesList}}),i.ir)),C=k.friendsList,I=k.messagesList;(0,n.useEffect)((function(){var e=(0,l.A)(C,I),s={};C.forEach((function(e){e.username===t&&(s=e)})),Z(s),e.forEach((function(e,s){s.username===t&&U(e)}))}),[t,C,I]);var T=(0,n.useCallback)((function(e){w(e.target.value)}),[j]),D=function(){var e=(0,c.I)(),r=(new Date).getTime(),n={toUser:t||"",fromUser:localStorage.getItem("username")||"",content:j,sendTime:r};s((0,g.Hz)({toUser:t,fromUser:localStorage.getItem("username")||"",content:j,sendTime:r,mid:""})),e.emit("sendSingleMessageEvent",n),w("")};return(0,p.jsxs)("div",{className:"flex flex-col items-center h-full",children:[(0,p.jsxs)("div",{className:"flex justify-between w-[57.25rem] h-[3.5rem] px-4 py-1 bg-white",children:[(0,p.jsxs)("div",{className:"flex items-center w-[46.25rem] ",children:[(0,p.jsx)("img",{className:"w-10 h-10 rounded-full mr-4",src:S.avatar,alt:""}),(0,p.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,p.jsx)("div",{children:S.username}),(0,p.jsx)("div",{children:S.gender})]})]}),(0,p.jsxs)("div",{className:"flex items-center ",children:[(0,p.jsx)("img",{className:"w-10 h-10 cursor-pointer",src:f.Z}),(0,p.jsx)("img",{className:"w-10 h-10 cursor-pointer",src:d.Z}),(0,p.jsx)("img",{className:"w-10 h-10 cursor-pointer",src:u.Z})]})]}),(0,p.jsxs)("div",{className:" relative w-[43.375rem] h-[41.5rem] bg-transparent",children:[(0,p.jsx)("div",{className:"flex flex-col justify-end h-[36.5rem] pb-4 overflow-auto",children:y.map((function(e,s){return(0,p.jsx)("div",{className:"flex  w-full mb-4 ".concat(e.fromUser===localStorage.getItem("username")?"justify-end ":"justify-start"),children:(0,p.jsxs)("div",{className:"flex flex-col max-w-[25.125rem] px-3 py-1 rounded-xl ".concat(e.fromUser===localStorage.getItem("username")?"bg-[#78E378]":"bg-white"),children:[(0,p.jsx)("div",{className:" max-w-[25.125rem] overflow-hidden text-ellipsis ",children:e.content}),(0,p.jsx)("div",{className:"flex justify-end mt-1 text-xs",children:m()(e.sendTime).format("YYYY.MM.DD hh.mm")})]})},s)}))}),(0,p.jsxs)("div",{className:"absolute bottom-6 w-full h-14 ",onKeyDown:function(e){"Enter"===e.code&&D()},children:[(0,p.jsx)("img",{className:"absolute left-4 top-4 cursor-pointer",src:x.Z,alt:""}),(0,p.jsx)("input",{className:"w-full h-full px-14 py-[1.125rem] rounded-xl bg-white outline-none",type:"text",value:j,onChange:T}),(0,p.jsx)("img",{className:"absolute right-4 top-4 cursor-pointer",src:h.Z,onClick:function(){D()}})]})]})]})};s.default=(0,n.memo)(v)}}]);
//# sourceMappingURL=534.4129faf0.chunk.js.map